<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Store</title>
    <link rel="stylesheet" type="text/css" href="styles/store-system-main.css">
    <link rel="stylesheet" type="text/css" href="styles/webstore.css">
</head>
<body>
    
    <header>
        <div id="header-left">
            <h2 id="store-name"></h2>
        </div>
        <div id="header-center">
            <h4 id="search-number-of-items"></h4>
            <input type="text" id="item-search-bar">
            <button type="submit" id="search-site">search</button>
        </div>
        <div id="header-right">
            <h4 id="shop-by-department">Shop By Department</h4>
            <input type="radio" name="shop-department" id="radio-meat" value="Meat" label for="radio-meat">meat</label>
            <input type="radio" name="shop-department" id="radio-produce" value="Produce" label for="radio-produce">produce</label>
            <input type="radio" name="shop-department" id="radio-bulk" value="Bulk" label for="radio-bulk">bulk</label>
            <button type="submit" id="search-by-department" onclick="sortDataByDepartment()">shop!</button>
            
        </div>
    </header>

    <div id="below-header"><span id="shopping-cart"></span> | <span id="view-your-cart">view your cart</span> | <span id="proceed-to-checkout">proceed to checkout</span></div>

    <div id="shopping-cart-window"></div>

    <main id="products">
        <div id="food-products" class="food-items"></div>
    </main>

    <div id="item-code-test">
        <h3 id="item-name"></h3>
    </div>

<!-- FOOD PRODUCTS DATABASE -->
<script src="data/items-meat.js"></script>
<script src="data/items-produce.js"></script>

<script>
    let foodProducts = [...meat, ...produce];
    document.getElementById('search-number-of-items').innerHTML = "Search from " + foodProducts.length + " products!";
</script>


<script>
    let shoppingCart = [];
    document.getElementById('shopping-cart').innerText = 'Items in your cart: ' + shoppingCart.length;
    
</script>

<!--
<script>
    function sortDataByDepartment()  {

        let selectedDepartment =  document.querySelector("input[name=shop-department]:checked").value
        let browseByDepartmentValue = document.createElement('div');

        browseByDepartmentValue.className = 'food-category-section';
        browseByDepartmentValue.id = 'browse-' + document.querySelector("input[name=shop-department]:checked").value;
        
        for (let i = 0; i < foodProducts.length; i++)  {
            if (foodProducts[i].itemDepartment == selectedDepartment)  {

                

                let foodItemCard = document.createElement('div');
                let foodItemName = document.createElement('h3');
                let foodItemPicture = document.createElement('img');
                let foodItemPrice = document.createElement('h4');
                let foodItemPromo = document.createElement('h4');

                let br = document.createElement('br');

                let addToCartButton = document.createElement('button')

                //------------------------------------------------------------------------------------------

                

                foodItemCard.id = 'food-item-' + i;
                foodItemCard.className = 'food-item-section'

                foodItemPicture.src = foodProducts[i].itemImage;
                foodItemPicture.width = 200;

                foodItemName.innerText = foodProducts[i].itemBrand + ' ' +  foodProducts[i].itemDescription + ' ' + foodProducts[i].itemType;
                foodItemPrice.innerText = foodProducts[i].itemPrice;

                foodItemPromo.innerHTML = 'sale ' + foodProducts[i].itemPromo + '<span>  reg ' + foodProducts[i].itemPrice + '</span>';
                foodItemPromo.className = 'food-item-promo'

                addToCartButton.innerText = 'add to cart';
                //addToCartButton.setAttribute('onclick', 'addToCart(foodProducts[i])'); -- doesn't work
                //addToCartButton.setAttribute('onclick', 'addToCart()'); -- works but doesn't pass an argument
                addToCartButton.setAttribute('onclick', 'addToCart(' + foodProducts[i] + ')');
                //addToCartButton.setAttribute('onclick', 'addToCart(' + foodProducts[i].itemCode + ')'); -- works but doesn't pass all info. Works fine to print an order sheet!

                foodItemCard.appendChild(foodItemPicture);
                foodItemCard.appendChild(foodItemName);

                if (foodProducts[i].promo == false)  {
                    foodItemCard.appendChild(foodItemPrice);

                } else  {
                    foodItemCard.appendChild(foodItemPromo)
                }

                foodItemCard.appendChild(addToCartButton);
                //foodItemMenu.appendChild(foodItemCard);
                browseByDepartmentValue.appendChild(foodItemCard)
                //document.getElementById('food-products').appendChild(browseByDepartmentValue);
                }

                
                document.getElementById('food-products').appendChild(browseByDepartmentValue);
                //console.log(foodProducts[i].itemBrand + ' ' + foodProducts[i].itemDescription + ' ' + foodProducts[i].itemType);
                //console.log(foodProducts[i].itemPrice);
        }}
        
    
</script>
-->


<!-- STORE DATA CONFIG FILE-->
<script src="data/site-data-config.js"></script>

<!-- CREATE ITEM CARDS ON WEBPAGE-->
<script src="scripts/create-item-cards.js"></script>

<!-- SORT DATA BY DEPARTMENT-->
<script src="scripts/sort-data-by-department.js"></script>

<!-- ADD ITEMS TO CART -->
<script src="scripts/add-to-cart.js"></script>

<!-- VIEW CART CONTENTS -->
<script src="scripts/view-cart-contents.js"></script>

<!-- HIDE CART CONTENTS -->   
<script src="scripts/hide-cart-contents.js"></script>

<!-- EVENT LISTENERS -->  
<script>
    document.getElementById('view-your-cart').addEventListener('click', viewCartContents);

    
</script>

</body>

</html>