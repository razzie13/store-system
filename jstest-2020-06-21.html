<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARRAY TESTS</title>
    <link rel="stylesheet" type="text/css" href="styles/webstore.css">
</head>
<body>
<div id="food-products"></div>
<div id="food-products-test"></div>
</body>
<!-- FOOD PRODUCTS DATABASE -->
<script src="data/items-produce.js"></script>
<script src="data/items-meat.js"></script>

<!--
<script>
for (let i = 0; i < foodProducts.length; i++)  {
    if (foodProducts[i].itemType == "Burgers")  {
    console.log(foodProducts[i].itemPrice);
}
}
</script>
-->

<script>
    // CREATE HEADERS FROM ITEM TYPES
    let newCategoryArray = [];
    for (let i = 0; i < foodProducts.length; i++)  {
        newCategoryArray.push(foodProducts[i].itemType);
    }

    let uniqueCategoryList = [...new Set(newCategoryArray)]
    uniqueCategoryList.sort();

    for (let i = 0; i < uniqueCategoryList.length; i++)  {

        let foodItemMenu = document.getElementById('food-products-test');
        let categoryHeader = document.createElement('h2');

        categoryHeader.id = 'category-item-'+ [i];
        categoryHeader.innerText = uniqueCategoryList[i];

        foodItemMenu.appendChild(categoryHeader);

    }

    
    for (let i = 0; i < uniqueCategoryList.length; i++) {
        let uniqueProductArray = [];
        for (let i = 0; i < foodProducts.length; i++)  {
            if (foodProducts[i].itemType == "Chicken Burgers")  {
                uniqueProductArray.push(foodProducts[i])
            }
            let categoryTest = document.createElement('h4');
            categoryTest.innerText = uniqueProductArray;
            document.getElementById('category-item-0').appendChild(categoryTest);
        };
        console.log(uniqueProductArray);
    };
    

</script>

<script>
    for (let i = 0; i > foodProducts.length; i++)  {
        let categoryTest = document.createElement('h4');
        categoryTest.innerText = "testing";
        document.getElementById('category-item-1').appendChild(categoryTest);
    }
</script>


<script>

    for (let i = 0; i < foodProducts.length; i++)  {
    

    let foodItemMenu = document.getElementById('food-products');

    let categoryHeader = document.createElement('h2')

    let foodItem = document.createElement('div');
    let foodItemName = document.createElement('h3');
    let foodItemPicture = document.createElement('img');
    let foodItemPrice = document.createElement('h4');
    let foodItemPromo = document.createElement('h4');

    let addToCartButton = document.createElement('button')

    //------------------------------------------------------------------------------------------

    foodItem.id = 'food-item-' + i;
    foodItem.className = 'food-item-section'

    foodItemPicture.src = foodProducts[i].itemImage;
    foodItemPicture.width = 200;

    foodItemName.innerText = foodProducts[i].itemBrand + ' ' +  foodProducts[i].itemDescription + ' ' + foodProducts[i].itemType;
    foodItemPrice.innerText = foodProducts[i].itemPrice;

    foodItemPromo.innerHTML = 'sale ' + foodProducts[i].itemPromo + '<span>  reg ' + foodProducts[i].itemPrice + '</span>';
    foodItemPromo.className = 'food-item-promo'

    addToCartButton.innerText = 'add to cart';
    //addToCartButton.setAttribute('onclick', 'addToCart(foodProducts[i])'); -- doesn't work
    //addToCartButton.setAttribute('onclick', 'addToCart()'); -- works but doesn't pass an argument
    addToCartButton.setAttribute('onclick', 'addToCart(' + foodProducts[i] + ')');
    //addToCartButton.setAttribute('onclick', 'addToCart(' + foodProducts[i].itemCode + ')'); -- works but doesn't pass all info. Works fine to print an order sheet!

    foodItem.appendChild(foodItemPicture);
    foodItem.appendChild(foodItemName);

    if (foodProducts[i].promo == false)  {
        foodItem.appendChild(foodItemPrice);

    } else  {
        foodItem.appendChild(foodItemPromo)
    }

    foodItem.appendChild(addToCartButton);

    document.getElementById('food-products').appendChild(foodItem);
    }
</script>

</html>