<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Store</title>
    <link rel="stylesheet" type="text/css" href="styles/store-system-main.css">
    <link rel="stylesheet" type="text/css" href="styles/webstore.css">
</head>
<body>
    
    <header>
        <div id="header-left">
            <h2 id="store-name"></h2>
        </div>
        <div id="header-center">
            <h4 id="search-number-of-items"></h4>
            <input type="text" id="item-search-bar">
            <button type="submit" id="search-site">search</button>
        </div>
        <div id="header-right">
            <h4 id="shop-by-department">Shop By Department</h4>
            <input type="radio" name="shop-department" id="radio-meat" value="webstore-meat.html" label for="radio-meat">meat</label>
            <input type="radio" name="shop-department" id="radio-produce" value="webstore-produce.html" label for="radio-produce">produce</label>
            <input type="radio" name="shop-department" id="radio-bulk" value="webstore-bulk.html" label for="radio-bulk">bulk</label>
            <button type="submit" id="search-by-department" onclick="location.href=document.querySelector('input[name=shop-department]:checked').value;">shop!</button>
            
        </div>
    </header>

    <div id="below-header"><div id="category-dropdown"></div><span id="shopping-cart"></span> | <span id="view-your-cart">view your cart</span> | <span id="proceed-to-checkout">proceed to checkout</span></div>

    <div id="shopping-cart-window"></div>

    <main id="products">
        <div id="food-products" class="food-items"></div>
    </main>

    <div id="item-code-test">
        <h3 id="item-name"></h3>
    </div>

<!-- FOOD PRODUCTS DATABASE -->
<script src="data/items-meat.js"></script>
<script src="data/items-produce.js"></script>

<!-- CONCATENATE FOOD DATABASES -->
<script src="scripts/items-all.js"></script>

<script>
    let foodProducts = produce;
    let shoppingCart = [];
    document.getElementById('shopping-cart').innerText = 'Items in your cart: ' + shoppingCart.length;
</script>

<script>
    function globalProductSearch()  {
    console.log('function globalProductSearch')

    let globalProductSearchInput = document.getElementById('item-search-bar').value;
    let itemFound = allFoodProducts.find(e => (e.itemDescription == globalProductSearchInput) || (e.itemCategory == globalProductSearchInput)); 
    
    if (itemFound == undefined)  {
        console.log ('item not found')
    }  else  {
        console.log (itemFound)
        let searchResults = [];
        for (let i = 0; i > allFoodProducts.length; i++)  {
            if (itemFound == 'burgers')  {
                searchResults.push(allFoodProducts[i]);
            }
        }
        console.log(searchResults)
    }
}

</script>



<!-- STORE DATA CONFIG FILE-->
<script src="data/site-data-config.js"></script>

<!-- CREATE ITEM CARDS ON WEBPAGE-->
<script src="scripts/webstore-create-item-cards.js"></script>

<!-- BUILD DROPDOWN LISTS ON ITEM CARDS AND PAGE HEADER-->
<script src="scripts/webstore-build-dropdown-lists.js"></script>

<!-- ADD ITEMS TO CART -->
<script src="scripts/webstore-add-to-cart.js"></script>

<!-- VIEW CART CONTENTS -->
<script src="scripts/webstore-view-cart-contents.js"></script>

<!-- HIDE CART CONTENTS -->   
<script src="scripts/webstore-hide-cart-contents.js"></script>

<!-- EVENT LISTENERS -->  
<script>
    document.getElementById('view-your-cart').addEventListener('click', viewCartContents);

    document.getElementById('search-site').addEventListener('click', globalProductSearch);
</script>

</body>

</html>